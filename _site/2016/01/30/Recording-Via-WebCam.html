<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Dblog</title>

   <link href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/material.min.css">
    <link rel="stylesheet" href="/assets/css/styles.css">
  </head>
  <body>
    <div class="demo-blog demo-blog--blogpost mdl-layout mdl-js-layout has-drawer is-upgraded">
      <main class="mdl-layout__content">
        <div class="demo-back">
          <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" href="/index.html" title="go back" role="button">
            <i class="material-icons" role="presentation">arrow_back</i>
          </a>
        </div>
        <div class="demo-blog__posts mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">
  <div class="mdl-card__media mdl-color-text--grey-50">
    <h3>Setting up a selfie stream using React</h3>
  </div>
  <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">
    <div class="minilogo"></div>
    <div>
      <strong>Allan Trinh</strong>
      <span>January 30, 2016</span>
    </div>
    <div class="section-spacer"></div>
  </div>
  <div class="mdl-color-text--grey-700 mdl-card__supporting-text">
   <p>
Accessing a users webcam via the browser to produce a streamable source isn't something that works in all browsers without a plugin (Internet explorer). That being said, it was something I wanted to implement for one of my projects to enhance user experience. 
</p>
<p>
Accessing a users camera can be done by the <a href='https://developer.mozilla.org/en-US/docs/Web/API/Navigator/getUserMedia'>getUserMedia</a> function provided by WebRTC. This function allows you to do three things, specify if you want to get video or audio data from the webcam, asks for permission from the user for access to the hardware, and a error function in case the user does not grant permission to use hardware.
</p>
<p>
Once you have access to user hardware, you can hook up a html video tag to the stream produced by the Web Cam. The code to do it is shown below
</p>
<img id="chessboard" src="/assets/vid.png" height="100" width="700">
<br>
<img id="chessboard" src="/assets/vid2.png" height="150" width="700">
<p>
As you can see, the video tag is given a reference of video and accessed in the componentDidMount lifecycle. Once the component mounts, you specify the getUserMedia function and pass it an object with keys to what you want to access, video and/or audio. The callback function gives you access to the data stream created by the camera ( assuming users give access ) and the video source is then set to a url created by using the <a href='https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL'>createObjectURL</a> and passing it the stream. 
</p>
<p>
Setting the state of the stream allows you to access the stream is for future access to it. In one of my next posts I will talk about how to set up a recorder with this stream.
</p>
  </div>
  <div class="mdl-color-text--primary-contrast mdl-card__supporting-text comments">
    <a href="/blog.html" class="demo-nav__button">
      <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
        <i class="material-icons">arrow_back</i>
      </button>
    Back
    </a>
    <div class="comment mdl-color-text--grey-700">
      <div class="comment__answers">
        <div class="comment">
        </div>
      </div>
    </div>
  </div>
</div>


        </div>
        <footer class="mdl-mini-footer">
           <div class="mdl-mini-footer--left-section">
            <a href="https://github.com/Daigor">
              <button class="mdl-mini-footer--social-btn social-btn social-btn__twitter">
                <span class="visuallyhidden">Github</span>
              </button>
            </a>
            <a href="https://twitter.com/Daigort3">
              <button class="mdl-mini-footer--social-btn social-btn social-btn__blogger">  
                  <span class="visuallyhidden">Twitter</span>
              </button>
            </a>
            <a href= "https://www.linkedin.com/in/allan-trinh-73238445">
              <button class="mdl-mini-footer--social-btn social-btn social-btn__gplus">
                <span class="visuallyhidden">Linkedin</span>
              </button>
            </a>
          </div>
          <div class="mdl-mini-footer--right-section">
         
          </div>
        </footer>
      </main>
      <div class="mdl-layout__obfuscator"></div>
    </div>
    
  </body>
</html>

